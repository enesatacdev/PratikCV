(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5244],{1539:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},1586:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},2138:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3311:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},4416:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4875:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var r=t(5155),s=t(2115),i=t(6052),l=t(7951),n=t(5196),d=t(8564),m=t(3311),o=t(9964),c=t(5525),u=t(1539),h=t(2138),x=t(4416),p=t(1586),b=t(6874),f=t.n(b),y=t(5740);function g(){let{user:e,isLoading:a}=(0,i.h)(),[t,b]=(0,s.useState)(!1),[g,j]=(0,s.useState)("standard"),[v,k]=(0,s.useState)(!1),[N,w]=(0,s.useState)(null),A=[{id:"basic",name:"Başlangı\xe7",description:"Temel premium şablon deneyimi",price:30,credits:3,popular:!1,features:["3 Premium şablon kredisi","Premium şablon kullanımı","Y\xfcksek kaliteli tasarımlar","PDF indirme","Temel destek"]},{id:"standard",name:"Standart",description:"En pop\xfcler se\xe7enek",price:90,credits:10,popular:!0,originalPrice:100,features:["10 Premium şablon kredisi","T\xfcm premium şablonlara erişim","Profesyonel tasarımlar","Sınırsız PDF indirme","\xd6ncelikli destek","%10 indirim avantajı"]},{id:"pro",name:"Profesyonel",description:"Maximum değer paketi",price:400,credits:50,popular:!1,originalPrice:500,features:["50 Premium şablon kredisi","T\xfcm premium \xf6zelliklere erişim","\xd6zel tasarım şablonları","Sınırsız CV oluşturma","7/24 premium destek","\xd6zel danışmanlık hizmeti","%20 s\xfcper indirim"]}],P=async a=>{if(e)try{b(!0);let t=A.find(e=>e.id===a);if(!t)return;let r=z(t,e);window.location.href=r}catch(e){alert("\xd6deme işlemi başlatılamadı. L\xfctfen tekrar deneyin.")}finally{b(!1),k(!1)}},z=(e,a)=>{var t=e.id;let r={basic:"https://www.shopier.com/37967135",standard:"https://www.shopier.com/37967141",pro:"https://www.shopier.com/37967144"};return r[t]||r.standard},S=()=>{k(!1),w(null)};return a?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-yellow-500"})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50 pt-20",children:[e&&(0,r.jsx)("div",{className:"bg-white/80 backdrop-blur-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,r.jsx)(y.A,{items:[{label:"Dashboard",href:"/dashboard"},{label:"Premium Şablon Kredisi",current:!0}]})})}),(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,r.jsxs)("div",{className:"text-center mb-16",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full mb-6 shadow-lg",children:(0,r.jsx)(l.A,{className:"w-10 h-10 text-white"})}),(0,r.jsxs)("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:["Premium Şablon ",(0,r.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600",children:"Kredisi Al"})]}),(0,r.jsx)("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Profesyonel CV'lerini bir sonraki seviyeye taşı! Premium şablonlarla \xf6ne \xe7ık ve hayalindeki işi kap."}),e?e.isPremium?(0,r.jsxs)("div",{className:"inline-flex items-center bg-green-100 text-green-800 px-6 py-3 rounded-full font-medium",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 mr-2"}),"Premium \xfcye - ",e.premiumCredits||0," kredin var"]}):(0,r.jsxs)("div",{className:"inline-flex items-center bg-amber-100 text-amber-800 px-6 py-3 rounded-full font-medium",children:[(0,r.jsx)(d.A,{className:"w-5 h-5 mr-2"}),"\xdccretsiz \xfcye - Premium kredin yok"]}):(0,r.jsxs)("div",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-6 py-3 rounded-full font-medium",children:[(0,r.jsx)(m.A,{className:"w-5 h-5 mr-2"}),"Premium fiyatları - Giriş yaparak satın alabilirsin"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center mb-6",children:(0,r.jsx)(m.A,{className:"w-8 h-8 text-white"})}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Premium Tasarımlar"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Profesyonel tasarımcılar tarafından hazırlanmış, \xf6zel ve etkileyici CV şablonları."})]}),(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-teal-600 rounded-xl flex items-center justify-center mb-6",children:(0,r.jsx)(o.A,{className:"w-8 h-8 text-white"})}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"\xd6ne \xc7ıkan CV"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Rekabet\xe7i iş piyasasında seni diğer adaylardan ayıracak, dikkat \xe7ekici CV tasarımları."})]}),(0,r.jsxs)("div",{className:"bg-white/70 backdrop-blur-sm rounded-2xl p-8 shadow-xl hover:shadow-2xl transition-all duration-300",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-600 rounded-xl flex items-center justify-center mb-6",children:(0,r.jsx)(c.A,{className:"w-8 h-8 text-white"})}),(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Kalite Garantisi"}),(0,r.jsx)("p",{className:"text-gray-600",children:"HR uzmanları tarafından onaylanmış, işe alım s\xfcre\xe7lerinde başarı garantili şablonlar."})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:A.map(a=>(0,r.jsxs)("div",{className:"relative bg-white rounded-3xl shadow-xl overflow-hidden transform transition-all duration-300 hover:scale-105 ".concat(a.popular?"ring-4 ring-purple-500 ring-opacity-50":""),children:[a.popular&&(0,r.jsx)("div",{className:"absolute top-0 left-0 right-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-center py-2 font-medium",children:"\uD83D\uDD25 En Pop\xfcler"}),(0,r.jsxs)("div",{className:"p-8 ".concat(a.popular?"pt-16":""),children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.name}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:a.description}),(0,r.jsxs)("div",{className:"mb-4",children:[a.originalPrice&&(0,r.jsxs)("span",{className:"text-lg text-gray-500 line-through mr-2",children:[a.originalPrice," TL"]}),(0,r.jsxs)("span",{className:"text-4xl font-bold text-gray-900",children:[a.price," TL"]})]}),(0,r.jsxs)("div",{className:"inline-flex items-center bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-medium",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 mr-1"}),a.credits," Kredi"]})]}),(0,r.jsx)("ul",{className:"space-y-4 mb-8",children:a.features.map((e,a)=>(0,r.jsxs)("li",{className:"flex items-center",children:[(0,r.jsx)(n.A,{className:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-gray-700",children:e})]},a))}),(0,r.jsx)("button",{onClick:()=>e?void(w(a.id),k(!0)):window.location.href="/auth/login",disabled:t,className:"w-full py-4 px-6 rounded-xl font-semibold transition-all duration-300 ".concat(a.popular?"bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700":"bg-gray-900 text-white hover:bg-gray-800"," disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"),children:t?(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,r.jsxs)(r.Fragment,{children:[e?"Şimdi Al":"Giriş Yap ve Al",(0,r.jsx)(h.A,{className:"w-5 h-5 ml-2"})]})})]})]},a.id))}),(0,r.jsxs)("div",{className:"mt-20 bg-white/70 backdrop-blur-sm rounded-3xl p-12 shadow-xl",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Sık\xe7a Sorulan Sorular"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Premium krediler nasıl \xe7alışır?"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Her premium şablon kullanımında 1 kredi t\xfcketilir. Krediniz bittiğinde yeni kredi satın alabilirsiniz."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Kredilerim birikir mi?"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Evet! Satın aldığınız t\xfcm krediler hesabınızda birikir ve s\xfcresiz olarak kullanabilirsiniz."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"İade politikanız nedir?"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Satın alma işleminden sonra 7 g\xfcn i\xe7inde, hi\xe7 kullanılmamış kredilerinizi iade edebilirsiniz."})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:"Destek alabilir miyim?"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Premium \xfcyelerimize 7/24 \xf6ncelikli destek sağlıyoruz. Her t\xfcrl\xfc sorunuz i\xe7in buradayız."})]})]})]}),(0,r.jsx)("div",{className:"mt-16 text-center",children:(0,r.jsxs)(f(),{href:"/dashboard",className:"inline-flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-2 rotate-180"}),"Dashboard'a D\xf6n"]})})]}),v&&N&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl max-w-md w-full transform transition-all duration-300 scale-100",children:[(0,r.jsxs)("div",{className:"relative bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-t-3xl p-6",children:[(0,r.jsx)("button",{onClick:S,className:"absolute top-4 right-4 text-white hover:text-gray-200 transition-colors",children:(0,r.jsx)(x.A,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(p.A,{className:"w-8 h-8 text-white"})}),(0,r.jsx)("h3",{className:"text-2xl font-bold",children:"Premium Kredi Satın Al"}),(0,r.jsx)("p",{className:"text-purple-100 mt-2",children:"\xd6demeni onaylayıp devam et"})]})]}),(0,r.jsx)("div",{className:"p-6",children:(()=>{let a=A.find(e=>e.id===N);return a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold text-gray-900",children:[a.name," Paketi"]}),(0,r.jsxs)("div",{className:"text-right",children:[a.originalPrice&&(0,r.jsxs)("div",{className:"text-sm text-gray-500 line-through",children:[a.originalPrice," TL"]}),(0,r.jsxs)("div",{className:"text-xl font-bold text-gray-900",children:[a.price," TL"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-gray-600",children:"Premium Kredi:"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(u.A,{className:"w-4 h-4 text-yellow-500 mr-1"}),(0,r.jsxs)("span",{className:"font-semibold text-gray-900",children:[a.credits," Kredi"]})]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"Bu pakette neler var:"}),(0,r.jsx)("ul",{className:"space-y-2",children:a.features.slice(0,3).map((e,a)=>(0,r.jsxs)("li",{className:"flex items-center text-sm",children:[(0,r.jsx)(n.A,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-gray-600",children:e})]},a))})]}),e&&e.isPremium&&(0,r.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"Mevcut Kredin:"}),(0,r.jsxs)("span",{className:"text-blue-900 font-bold",children:[e.premiumCredits||0," Kredi"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,r.jsx)("span",{className:"text-blue-700 font-medium",children:"Satın Alma Sonrası:"}),(0,r.jsxs)("span",{className:"text-blue-900 font-bold",children:[(e.premiumCredits||0)+a.credits," Kredi"]})]})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsx)("button",{onClick:S,className:"flex-1 py-3 px-4 border border-gray-300 rounded-xl font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"İptal"}),(0,r.jsx)("button",{onClick:()=>P(a.id),disabled:t,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-4 rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:t?(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"\xd6demeyi Onayla"]})})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 text-center mt-4",children:"\uD83D\uDD12 G\xfcvenli \xf6deme • Anında aktivasyon"})]}):null})()})]})})]})}},5196:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},5525:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"useParams")&&t.d(a,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(a,{useSearchParams:function(){return r.useSearchParams}})},5740:(e,a,t)=>{"use strict";t.d(a,{A:()=>m});var r=t(5155);t(2115);var s=t(6874),i=t.n(s),l=t(9946);let n=(0,l.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),d=(0,l.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),m=e=>{let{items:a,className:t=""}=e;return(0,r.jsx)("nav",{className:"flex ".concat(t),"aria-label":"Breadcrumb",children:(0,r.jsxs)("ol",{className:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse",children:[(0,r.jsx)("li",{className:"inline-flex items-center",children:(0,r.jsxs)(i(),{href:"/",className:"inline-flex items-center text-sm font-medium text-gray-700 hover:text-yellow-600 transition-colors",children:[(0,r.jsx)(n,{className:"w-3 h-3 me-2.5"}),"Ana Sayfa"]})}),a.map((e,a)=>(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(d,{className:"rtl:rotate-180 w-3 h-3 text-gray-400 mx-1"}),e.current?(0,r.jsx)("span",{className:"ms-1 text-sm font-medium text-gray-500 md:ms-2",children:e.label}):(0,r.jsx)(i(),{href:e.href||"#",className:"ms-1 text-sm font-medium text-gray-700 hover:text-yellow-600 md:ms-2 transition-colors",children:e.label})]})},a))]})})}},6052:(e,a,t)=>{"use strict";t.d(a,{AuthProvider:()=>d,h:()=>n});var r=t(5155),s=t(2115),i=t(5695);let l=(0,s.createContext)(void 0),n=()=>{let e=(0,s.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},d=e=>{let{children:a}=e,[t,n]=(0,s.useState)(null),[d,m]=(0,s.useState)(!0),o=(0,i.useRouter)(),c="http://localhost:5000/api";(0,s.useEffect)(()=>{x()},[]);let u=e=>{localStorage.setItem("authToken",e),document.cookie="authToken=".concat(e,"; path=/; max-age=").concat(604800,"; SameSite=Lax")},h=()=>{localStorage.removeItem("authToken"),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Lax",document.cookie="authToken=; path=/; max-age=0; SameSite=Lax",document.cookie="authToken=; path=/; domain=; expires=Thu, 01 Jan 1970 00:00:00 GMT"},x=async()=>{try{let e=localStorage.getItem("authToken");if(!e)return void m(!1);let a=await fetch("".concat(c,"/auth/me"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(a.ok){let e=await a.json(),t=e.id||e.userId,r=e.name||e.fullName||e.email,[s="",i=""]=r.split(" ");n({id:t,email:e.email,name:r,firstName:s,lastName:i,role:e.role,avatar:e.profilePhoto,isPremium:e.isPremium,premiumCredits:e.premiumCredits||0,phones:e.phones||[],emails:e.emails||[],address:e.address||"",birthDate:e.birthDate||""})}else h(),n(null)}catch(e){h(),n(null)}finally{m(!1)}},p=async(e,a)=>{try{m(!0);let p=await fetch("".concat(c,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})}),b=await p.json();if(!p.ok)return{success:!1,error:b.message||b.error||"Giriş yapılamadı"};{var t,r,s,i,l,d,o,h,x;u(b.token||b.accessToken);let a=(null==(t=b.user)?void 0:t.name)||(null==(r=b.user)?void 0:r.fullName)||(null==(s=b.user)?void 0:s.email),[m="",c=""]=a.split(" "),p={id:(null==(i=b.user)?void 0:i.id)||b.userId,email:(null==(l=b.user)?void 0:l.email)||e,name:a,firstName:m,lastName:c,role:null==(d=b.user)?void 0:d.role,avatar:null==(o=b.user)?void 0:o.avatar,isPremium:null==(h=b.user)?void 0:h.isPremium,premiumCredits:(null==(x=b.user)?void 0:x.premiumCredits)||0};return n(p),{success:!0}}}catch(e){return{success:!1,error:"Bağlantı hatası. L\xfctfen daha sonra tekrar deneyin."}}finally{m(!1)}},b=async(e,a,t,r)=>{try{m(!0);let p=await fetch("".concat(c,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e,lastName:a,email:t,password:r})}),b=await p.json();if(!p.ok)return{success:!1,error:b.message||b.error||"Kayıt olunamadı"};{var s,i,l,d,o,h,x;u(b.token||b.accessToken);let r=(null==(s=b.user)?void 0:s.fullName)||"".concat(e," ").concat(a),m={id:(null==(i=b.user)?void 0:i.id)||b.userId,email:(null==(l=b.user)?void 0:l.email)||t,name:r,firstName:e,lastName:a,role:null==(d=b.user)?void 0:d.role,avatar:null==(o=b.user)?void 0:o.avatar,isPremium:null==(h=b.user)?void 0:h.isPremium,premiumCredits:(null==(x=b.user)?void 0:x.premiumCredits)||0};return n(m),{success:!0}}}catch(e){return{success:!1,error:"Bağlantı hatası. L\xfctfen daha sonra tekrar deneyin."}}finally{m(!1)}},f=async()=>{await x()},y=async e=>{try{let a=localStorage.getItem("authToken");if(!a)return{success:!1,error:"Yetkilendirme hatası"};let r=await fetch("".concat(c,"/auth/profile-from-cv"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({fullName:e.fullName,phones:e.phones,emails:e.emails,address:e.address,profilePhoto:e.profilePhoto,birthDate:e.birthDate?new Date(e.birthDate).toISOString():null})});if(!r.ok){let e=await r.json();throw Error(e.message||"HTTP error! status: ".concat(r.status))}let s=await r.json();if(t){let a=s.fullName||e.fullName,[r="",i=""]=a.split(" ");n({...t,name:a,firstName:r,lastName:i,email:s.email||t.email,avatar:s.profilePhoto||e.profilePhoto||t.avatar,phones:s.phones||e.phones,emails:s.emails||e.emails,address:s.address||e.address,birthDate:s.birthDate||e.birthDate})}return{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Profil g\xfcncellenirken hata oluştu"}}},g=async()=>{try{if(!t||!t.premiumCredits||t.premiumCredits<1)return{success:!1,error:"Yeterli kredi yok"};let e=localStorage.getItem("authToken");if(!e)return{success:!1,error:"Yetkilendirme hatası"};let a=await fetch("".concat(c,"/auth/deduct-premium-credit"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!a.ok){let e=await a.json();throw Error(e.message||"HTTP error! status: ".concat(a.status))}let r=await a.json();return n({...t,premiumCredits:r.remainingCredits||t.premiumCredits-1}),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Kredi d\xfcş\xfcrme hatası"}}};return(0,r.jsx)(l.Provider,{value:{user:t,isLoading:d,isAuthenticated:!!t,login:p,register:b,logout:()=>{h(),n(null),o.push("/")},refreshUser:f,updateUserAvatar:e=>{t&&n({...t,avatar:e})},updateUserProfile:y,deductPremiumCredit:g},children:a})}},7320:(e,a,t)=>{Promise.resolve().then(t.bind(t,4875))},7951:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]])},8564:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9964:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]])}},e=>{e.O(0,[95,8441,5964,7358],()=>e(e.s=7320)),_N_E=e.O()}]);