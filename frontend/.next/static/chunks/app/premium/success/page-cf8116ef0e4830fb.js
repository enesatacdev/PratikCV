(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5764],{646:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});let r=(0,a(9946).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1886:(t,e,a)=>{"use strict";a.d(e,{F:()=>n,apiService:()=>s});let r="http://localhost:5000/api",s={async getCVByUserId(t){let e=await fetch("".concat(r,"/cv/user/").concat(t));if(!e.ok){if(404===e.status)return null;throw Error("HTTP error! status: ".concat(e.status))}return e.json()},async getCVById(t){let e=await fetch("".concat(r,"/cv/").concat(t));if(!e.ok){if(404===e.status)return null;throw Error("HTTP error! status: ".concat(e.status))}return e.json()},async createCV(t,e){let a={userId:t,...e},s=await fetch("".concat(r,"/cv"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!s.ok)throw Error("HTTP error! status: ".concat(s.status));return s.json()},async updateCV(t,e){let a=await fetch("".concat(r,"/cv/user/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return a.json()},async updateCVById(t,e){let a=await fetch("".concat(r,"/cv/").concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return a.json()},async deleteCV(t){let e=await fetch("".concat(r,"/cv/user/").concat(t),{method:"DELETE"});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.ok},checkHealth:async()=>(await fetch("".concat(r,"/health"))).json(),async upgradeToPremium(t){let e=await fetch("".concat(r,"/auth/upgrade-premium"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()},async addPremiumCredits(t,e){let a=await fetch("".concat(r,"/auth/add-premium-credits"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({credits:e})});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return a.json()},async getUserProfile(){let t=localStorage.getItem("authToken");if(!t)throw Error("No auth token");let e=await fetch("".concat(r,"/auth/me"),{headers:{Authorization:"Bearer ".concat(t)}});if(!e.ok)throw Error("Failed to fetch user profile");return e.json()}},n={get:async t=>{let e=await fetch("".concat(r).concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.text();throw Error("HTTP error! status: ".concat(e.status,", message: ").concat(t))}return{data:await e.json()}},post:async(t,e)=>{let a=await fetch("".concat(r).concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:e?JSON.stringify(e):void 0});if(!a.ok){let t=await a.text();throw Error("HTTP error! status: ".concat(a.status,", message: ").concat(t))}return{data:await a.json()}},put:async(t,e)=>{let a=await fetch("".concat(r).concat(t),{method:"PUT",headers:{"Content-Type":"application/json"},body:e?JSON.stringify(e):void 0});if(!a.ok){let t=await a.text();throw Error("HTTP error! status: ".concat(a.status,", message: ").concat(t))}return{data:await a.json()}},delete:async t=>{let e=await fetch("".concat(r).concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!e.ok){let t=await e.text();throw Error("HTTP error! status: ".concat(e.status,", message: ").concat(t))}return 204===e.status?{data:null}:{data:await e.json()}},addPremiumCredits:async(t,e)=>{let a=await fetch("".concat(r,"/auth/add-premium-credits"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({credits:e})});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return a.json()},deductPremiumCredit:async t=>{let e=await fetch("".concat(r,"/auth/deduct-premium-credit"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));return e.json()},confirmPayment:async(t,e)=>{let a=await fetch("".concat(r,"/payment/confirm-shopier"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return a.json()},updateUserProfile:async(t,e)=>{let a=await fetch("".concat(r,"/auth/profile"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)});if(!a.ok)throw Error("HTTP error! status: ".concat(a.status));return a.json()}}},2138:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});let r=(0,a(9946).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},5695:(t,e,a)=>{"use strict";var r=a(8999);a.o(r,"useParams")&&a.d(e,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(e,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(e,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(e,{useSearchParams:function(){return r.useSearchParams}})},7263:(t,e,a)=>{Promise.resolve().then(a.bind(a,7854))},7854:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>m});var r=a(5155),s=a(2115),n=a(5695),o=a(646);let c=(0,a(9946).A)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);var i=a(2138),l=a(6874),u=a.n(l),d=a(1886);function h(){let[t,e]=(0,s.useState)(!0),[a,l]=(0,s.useState)(0),[h,m]=(0,s.useState)(""),p=(0,n.useSearchParams)();return((0,s.useEffect)(()=>{(async()=>{try{if("true"===p.get("test")){let t=parseInt(p.get("credits")||"0");p.get("plan_name"),l(t),e(!1);return}let t=p.get("custom_field_1"),a=p.get("custom_field_2"),r=p.get("custom_field_3"),s=p.get("transaction_id");if(!t||!a||!r){m("\xd6deme bilgileri eksik"),e(!1);return}let n=localStorage.getItem("authToken");n&&(await d.F.confirmPayment(n,{userId:t,planId:a,credits:parseInt(r),transactionId:s}),l(parseInt(r)))}catch(t){m("\xd6deme işlenirken bir hata oluştu")}finally{e(!1)}})()},[p]),t)?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500 mx-auto mb-4"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\xd6demeniz İşleniyor"}),(0,r.jsx)("p",{className:"text-gray-600",children:"L\xfctfen bekleyin..."})]})}):h?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-pink-50 to-purple-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md",children:[(0,r.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"❌"}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Bir Hata Oluştu"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:h}),(0,r.jsx)(u(),{href:"/premium",className:"inline-flex items-center px-6 py-3 bg-red-500 text-white font-medium rounded-lg hover:bg-red-600 transition-colors",children:"Premium Sayfasına D\xf6n"})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-blue-50 to-purple-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-2xl mx-auto px-4",children:[(0,r.jsx)(o.A,{className:"w-20 h-20 text-green-500 mx-auto mb-6"}),(0,r.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"\uD83C\uDF89 \xd6deme Başarılı!"}),(0,r.jsx)("p",{className:"text-xl text-gray-600 mb-8",children:"Tebrikler! Premium krediniz hesabınıza başarıyla eklendi."}),(0,r.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 shadow-xl mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,r.jsx)(c,{className:"w-8 h-8 text-purple-500 mr-3"}),(0,r.jsxs)("span",{className:"text-2xl font-bold text-gray-900",children:["+",a," Premium Kredi"]})]}),(0,r.jsx)("p",{className:"text-gray-600",children:"Artık premium şablonları kullanarak profesyonel CV'ler oluşturabilirsin!"})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsxs)(u(),{href:"/create-cv",className:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white font-semibold rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all duration-300 shadow-lg",children:["CV Oluşturmaya Başla",(0,r.jsx)(i.A,{className:"w-5 h-5 ml-2"})]}),(0,r.jsx)(u(),{href:"/dashboard",className:"inline-flex items-center px-8 py-4 bg-white text-gray-700 font-semibold rounded-xl hover:bg-gray-50 transition-colors border border-gray-200 shadow-lg",children:"Dashboard'a Git"})]}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-6",children:"Fatura ve \xf6deme detayları e-posta adresinize g\xf6nderilecektir."})]})})}function m(){return(0,r.jsx)(s.Suspense,{fallback:(0,r.jsx)("div",{children:"Y\xfckleniyor..."}),children:(0,r.jsx)(h,{})})}}},t=>{t.O(0,[95,8441,5964,7358],()=>t(t.s=7263)),_N_E=t.O()}]);