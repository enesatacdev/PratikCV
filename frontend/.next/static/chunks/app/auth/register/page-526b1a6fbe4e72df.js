(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[983],{276:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>x});var t=r(5155),s=r(2115),l=r(6052),i=r(5695),o=r(6874),n=r.n(o),d=r(1007),c=r(8883),m=r(2919),u=r(8749),h=r(2657),p=r(3568);function x(){let{register:e,isLoading:a}=(0,l.h)(),r=(0,i.useRouter)(),[o,x]=(0,s.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[y,f]=(0,s.useState)(!1),[g,v]=(0,s.useState)(!1),[w,b]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),k=e=>{let{name:a,value:r}=e.target;x(e=>({...e,[a]:r}))},A=async a=>{if(a.preventDefault(),!o.firstName||!o.lastName||!o.email||!o.password||!o.confirmPassword)return void p.Ay.error("L\xfctfen t\xfcm alanları doldurun");if(o.password!==o.confirmPassword)return void p.Ay.error("Şifreler eşleşmiyor");if(o.password.length<6)return void p.Ay.error("Şifre en az 6 karakter olmalıdır");if(!j)return void p.Ay.error("Kullanım şartlarını kabul etmelisiniz");b(!0);try{let a=await e(o.firstName,o.lastName,o.email,o.password);a.success?(p.Ay.success("Hesabınız başarıyla oluşturuldu!"),r.push("/dashboard")):p.Ay.error(a.error||"Kayıt olurken bir hata oluştu")}catch(e){p.Ay.error("Bir hata oluştu. L\xfctfen tekrar deneyin.")}finally{b(!1)}};return a?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-yellow-500"})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br pt-20 from-blue-50 to-indigo-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,t.jsx)("h2",{className:"text-center text-3xl font-bold tracking-tight text-gray-900",children:"Yeni hesap oluşturun"}),(0,t.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Zaten hesabınız var mı?"," ",(0,t.jsx)(n(),{href:"/auth/login",className:"font-medium text-yellow-600 hover:text-yellow-500",children:"Giriş yapın"})]})]}),(0,t.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsxs)("div",{className:"bg-white py-8 px-4 shadow-xl rounded-lg sm:px-10",children:[(0,t.jsxs)("form",{className:"space-y-6",onSubmit:A,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"Ad"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,value:o.firstName,onChange:k,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm",placeholder:"Adınızı girin"}),(0,t.jsx)(d.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Soyad"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,value:o.lastName,onChange:k,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm",placeholder:"Soyadınızı girin"}),(0,t.jsx)(d.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"E-posta adresi"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:o.email,onChange:k,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm",placeholder:"E-posta adresinizi girin"}),(0,t.jsx)(c.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Şifre"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{id:"password",name:"password",type:y?"text":"password",autoComplete:"new-password",required:!0,value:o.password,onChange:k,className:"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm",placeholder:"Şifrenizi girin (en az 6 karakter)"}),(0,t.jsx)(m.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,t.jsx)("button",{type:"button",className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400 hover:text-gray-600",onClick:()=>f(!y),children:y?(0,t.jsx)(u.A,{}):(0,t.jsx)(h.A,{})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Şifre Tekrar"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:g?"text":"password",autoComplete:"new-password",required:!0,value:o.confirmPassword,onChange:k,className:"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-yellow-500 focus:border-yellow-500 sm:text-sm",placeholder:"Şifrenizi tekrar girin"}),(0,t.jsx)(m.A,{className:"absolute left-3 top-2.5 h-4 w-4 text-gray-400"}),(0,t.jsx)("button",{type:"button",className:"absolute right-3 top-2.5 h-4 w-4 text-gray-400 hover:text-gray-600",onClick:()=>v(!g),children:g?(0,t.jsx)(u.A,{}):(0,t.jsx)(h.A,{})})]})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex items-center h-5",children:(0,t.jsx)("input",{id:"agree-terms",name:"agree-terms",type:"checkbox",checked:j,onChange:e=>N(e.target.checked),className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"})}),(0,t.jsx)("div",{className:"ml-3 text-sm",children:(0,t.jsxs)("label",{htmlFor:"agree-terms",className:"text-gray-700",children:[(0,t.jsx)(n(),{href:"/terms",className:"text-yellow-600 hover:text-yellow-500",children:"Kullanım şartlarını"})," ","ve"," ",(0,t.jsx)(n(),{href:"/privacy",className:"text-yellow-600 hover:text-yellow-500",children:"gizlilik politikasını"})," ","kabul ediyorum."]})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:w,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gradient-to-r from-yellow-500 to-amber-600 hover:from-yellow-600 hover:to-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:w?(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Hesap oluşturuluyor..."]}):"Hesap Oluştur"})})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,t.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Neden PratikCV?"})})]}),(0,t.jsx)("div",{className:"mt-6 text-center text-sm text-gray-600",children:(0,t.jsxs)("ul",{className:"space-y-1",children:[(0,t.jsx)("li",{children:"✓ \xdccretsiz CV oluşturma"}),(0,t.jsx)("li",{children:"✓ AI destekli analiz"}),(0,t.jsx)("li",{children:"✓ 50+ profesyonel şablon"}),(0,t.jsx)("li",{children:"✓ Anında PDF indirme"})]})})]})]})})]})}},1007:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(9946).A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2657:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(9946).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2919:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(9946).A)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},6052:(e,a,r)=>{"use strict";r.d(a,{AuthProvider:()=>n,h:()=>o});var t=r(5155),s=r(2115),l=r(5695);let i=(0,s.createContext)(void 0),o=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},n=e=>{let{children:a}=e,[r,o]=(0,s.useState)(null),[n,d]=(0,s.useState)(!0),c=(0,l.useRouter)(),m="http://localhost:5000/api";(0,s.useEffect)(()=>{p()},[]);let u=e=>{localStorage.setItem("authToken",e),document.cookie="authToken=".concat(e,"; path=/; max-age=").concat(604800,"; SameSite=Lax")},h=()=>{localStorage.removeItem("authToken"),document.cookie="authToken=; path=/; expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Lax",document.cookie="authToken=; path=/; max-age=0; SameSite=Lax",document.cookie="authToken=; path=/; domain=; expires=Thu, 01 Jan 1970 00:00:00 GMT"},p=async()=>{try{let e=localStorage.getItem("authToken");if(!e)return void d(!1);let a=await fetch("".concat(m,"/auth/me"),{method:"GET",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});if(a.ok){let e=await a.json(),r=e.id||e.userId,t=e.name||e.fullName||e.email,[s="",l=""]=t.split(" ");o({id:r,email:e.email,name:t,firstName:s,lastName:l,role:e.role,avatar:e.profilePhoto,isPremium:e.isPremium,premiumCredits:e.premiumCredits||0,phones:e.phones||[],emails:e.emails||[],address:e.address||"",birthDate:e.birthDate||""})}else h(),o(null)}catch(e){h(),o(null)}finally{d(!1)}},x=async(e,a)=>{try{d(!0);let x=await fetch("".concat(m,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:a})}),y=await x.json();if(!x.ok)return{success:!1,error:y.message||y.error||"Giriş yapılamadı"};{var r,t,s,l,i,n,c,h,p;u(y.token||y.accessToken);let a=(null==(r=y.user)?void 0:r.name)||(null==(t=y.user)?void 0:t.fullName)||(null==(s=y.user)?void 0:s.email),[d="",m=""]=a.split(" "),x={id:(null==(l=y.user)?void 0:l.id)||y.userId,email:(null==(i=y.user)?void 0:i.email)||e,name:a,firstName:d,lastName:m,role:null==(n=y.user)?void 0:n.role,avatar:null==(c=y.user)?void 0:c.avatar,isPremium:null==(h=y.user)?void 0:h.isPremium,premiumCredits:(null==(p=y.user)?void 0:p.premiumCredits)||0};return o(x),{success:!0}}}catch(e){return{success:!1,error:"Bağlantı hatası. L\xfctfen daha sonra tekrar deneyin."}}finally{d(!1)}},y=async(e,a,r,t)=>{try{d(!0);let x=await fetch("".concat(m,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e,lastName:a,email:r,password:t})}),y=await x.json();if(!x.ok)return{success:!1,error:y.message||y.error||"Kayıt olunamadı"};{var s,l,i,n,c,h,p;u(y.token||y.accessToken);let t=(null==(s=y.user)?void 0:s.fullName)||"".concat(e," ").concat(a),d={id:(null==(l=y.user)?void 0:l.id)||y.userId,email:(null==(i=y.user)?void 0:i.email)||r,name:t,firstName:e,lastName:a,role:null==(n=y.user)?void 0:n.role,avatar:null==(c=y.user)?void 0:c.avatar,isPremium:null==(h=y.user)?void 0:h.isPremium,premiumCredits:(null==(p=y.user)?void 0:p.premiumCredits)||0};return o(d),{success:!0}}}catch(e){return{success:!1,error:"Bağlantı hatası. L\xfctfen daha sonra tekrar deneyin."}}finally{d(!1)}},f=async()=>{await p()},g=async e=>{try{let a=localStorage.getItem("authToken");if(!a)return{success:!1,error:"Yetkilendirme hatası"};let t=await fetch("".concat(m,"/auth/profile-from-cv"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({fullName:e.fullName,phones:e.phones,emails:e.emails,address:e.address,profilePhoto:e.profilePhoto,birthDate:e.birthDate?new Date(e.birthDate).toISOString():null})});if(!t.ok){let e=await t.json();throw Error(e.message||"HTTP error! status: ".concat(t.status))}let s=await t.json();if(r){let a=s.fullName||e.fullName,[t="",l=""]=a.split(" ");o({...r,name:a,firstName:t,lastName:l,email:s.email||r.email,avatar:s.profilePhoto||e.profilePhoto||r.avatar,phones:s.phones||e.phones,emails:s.emails||e.emails,address:s.address||e.address,birthDate:s.birthDate||e.birthDate})}return{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Profil g\xfcncellenirken hata oluştu"}}},v=async()=>{try{if(!r||!r.premiumCredits||r.premiumCredits<1)return{success:!1,error:"Yeterli kredi yok"};let e=localStorage.getItem("authToken");if(!e)return{success:!1,error:"Yetkilendirme hatası"};let a=await fetch("".concat(m,"/auth/deduct-premium-credit"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}});if(!a.ok){let e=await a.json();throw Error(e.message||"HTTP error! status: ".concat(a.status))}let t=await a.json();return o({...r,premiumCredits:t.remainingCredits||r.premiumCredits-1}),{success:!0}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Kredi d\xfcş\xfcrme hatası"}}};return(0,t.jsx)(i.Provider,{value:{user:r,isLoading:n,isAuthenticated:!!r,login:x,register:y,logout:()=>{h(),o(null),c.push("/")},refreshUser:f,updateUserAvatar:e=>{r&&o({...r,avatar:e})},updateUserProfile:g,deductPremiumCredit:v},children:a})}},7604:(e,a,r)=>{Promise.resolve().then(r.bind(r,276))},8749:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(9946).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},8883:(e,a,r)=>{"use strict";r.d(a,{A:()=>t});let t=(0,r(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])}},e=>{e.O(0,[95,8006,8441,5964,7358],()=>e(e.s=7604)),_N_E=e.O()}]);